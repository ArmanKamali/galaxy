{"version":3,"sources":["mvc/ui/ui-select-genomespace.js"],"names":["View","Backbone","extend","initialize","options","self","this","browse_button","_uiMisc2","default","ButtonIcon","title","_localization2","icon","tooltip","onclick","browseGenomeSpace","Input","setElement","$","append","$el","filename_textbox","successCallback","data","value","destination","_template","new_value","undefined","_getValue","_setValue","onchange"],"mappings":"uSAQIA,EAAOC,SAASD,KAAKE,QAErBC,WAAY,SAASC,GAEjB,IAAIC,EAAOC,KACXA,KAAKF,QAAUA,EAGfE,KAAKC,cAAgB,IAAIC,EAAAC,QAAGC,YACxBC,OAAO,EAAAC,EAAAH,SAAG,UACVI,KAAM,gBACNC,SAAS,EAAAF,EAAAH,SAAG,sBACZM,QAAS,WAfrBV,EAAAW,kBAAAZ,MAKID,KAAAA,iBAAY,IAAAK,EAAAC,QAAAQ,MAGRX,KAAAY,WAAAZ,KAAeF,UAAfA,IAiBAE,KAAKa,EAAE,wBAAwBC,OAAOd,KAAKC,cAAcc,KAfzDf,KAAAa,EAAA,2BAAAC,OAAAd,KAAAgB,iBAAAD,MAIIP,kBAAAA,SAASV,GACTW,IAAAA,EAAAA,KACIV,EAAAA,QAAKW,iBACRO,gBAAA,SAAAC,GANLnB,EAAAoB,MAAAD,EAAAE,iBAaAC,UAAA,SAAKT,GACL,MACA,0JAMmCO,MAAA,SAAnCG,GAsBA,QAAkBC,IAAdD,EAbJ,OACItB,KAAAwB,YAHRxB,KAAAyB,UAAAH,IAcIE,UAAA,WACA,OAAAxB,KAAIsB,iBAAcC,SAIjBE,UAAA,SAAAH,GAvDuBA,GAkEpBtB,KAAKgB,iBAAiBG,MAAMG,GAPpCE,KAAAA,QAAWE,UAAA1B,KAAAF,QAAW4B,SAAAJ,iBAKtBG,KAAAA","file":"../../../scripts/mvc/ui/ui-select-genomespace.js","sourcesContent":["import _l from \"utils/localization\";\n// dependencies\nimport Utils from \"utils/utils\";\nimport Ui from \"mvc/ui/ui-misc\";\nimport GenomespaceBrowser from \"mvc/tool/tool-genomespace\";\n/**\n * GenomeSpace file selector\n */\nvar View = Backbone.View.extend({\n    // initialize\n    initialize: function(options) {\n        // link this\n        var self = this;\n        this.options = options;\n\n        // create insert new list element button\n        this.browse_button = new Ui.ButtonIcon({\n            title: _l(\"Browse\"),\n            icon: \"fa fa-sign-in\",\n            tooltip: _l(\"Browse GenomeSpace\"),\n            onclick: function() {\n                self.browseGenomeSpace(options);\n            }\n        });\n\n        // create genomespace filepath textbox\n        this.filename_textbox = new Ui.Input();\n\n        // create elements\n        this.setElement(this._template(options));\n        this.$(\".ui-gs-browse-button\").append(this.browse_button.$el);\n        this.$(\".ui-gs-filename-textbox\").append(this.filename_textbox.$el);\n    },\n\n    /** Browse GenomeSpace */\n    browseGenomeSpace: function(options) {\n        var self = this;\n        GenomespaceBrowser.openFileBrowser({\n            successCallback: function(data) {\n                self.value(data.destination);\n            }\n        });\n    },\n\n    /** Main Template */\n    _template: function(options) {\n        return (\n            '<div class=\"ui-gs-select-file\">' +\n            '<div class=\"ui-gs-browse-field\">' +\n            '<span class=\"ui-gs-browse-button\" />' +\n            '<span class=\"ui-gs-filename-textbox\" />' +\n            \"</div>\" +\n            \"</div>\"\n        );\n    },\n\n    /** Return/Set currently selected genomespace filename */\n    value: function(new_value) {\n        // check if new_value is defined\n        if (new_value !== undefined) {\n            this._setValue(new_value);\n        } else {\n            return this._getValue();\n        }\n    },\n\n    // get value\n    _getValue: function() {\n        return this.filename_textbox.value();\n    },\n\n    // set value\n    _setValue: function(new_value) {\n        if (new_value) {\n            this.filename_textbox.value(new_value);\n        }\n        this.options.onchange && this.options.onchange(new_value);\n    }\n});\n\nexport default {\n    View: View\n};\n"]}